<div class="all">
<aside class="filters-sidebar">  <div class="sidebar-header">
    <div class="header-flex">
      <h2>Filter Profiles</h2>
    </div>
    
    <button 
      *ngIf="currentFilter.country || currentFilter.city"
      class="clear-button"
      (click)="clearFilters()"
    >
      <i class="fas fa-times"></i>
      Clear Filters
    </button>
    
    <button 
      class="location-button"
      (click)="useLocation()"
      [disabled]="isLoading"
    >
      <span class="button-text">{{ isLoading ? 'Finding...' : 'Use My Location' }}</span>
      <i class="fas fa-satellite-dish"></i>
    </button>
  </div>

  <div *ngIf="locationError" class="error-message">
    <i class="fas fa-exclamation-triangle"></i>
    {{ locationError }}
  </div>
 

  <div class="filter-section">
    <h3>Countries</h3>
    <div class="search-box">
      <input 
        type="text" 
        placeholder="Search or enter country..." 
        [(ngModel)]="countrySearch"
        (ngModelChange)="onCountrySearchChange($event)"
      >
    </div>    <div class="filter-list">
      <button
        *ngFor="let countryData of filteredCountries"
        [class.active]="currentFilter.country === countryData.country"
        (click)="onCountrySelect(countryData.country)"
        class="filter-item"
      >
        {{ countryData.country }}
        <span class="count-badge" *ngIf="countryData.count > 0">({{ countryData.count }})</span>
      </button>
    </div>
  </div>

  <div class="filter-section" *ngIf="currentFilter.country">
    <h3>Cities in {{ currentFilter.country }}</h3>
    <div class="search-box">
      <input 
        type="text" 
        placeholder="Search or enter city..." 
        [(ngModel)]="citySearch"
        (ngModelChange)="onCitySearchChange($event)"
      >
    </div>    <div class="filter-list">
      <button
        *ngFor="let cityData of filteredCities"
        [class.active]="currentFilter.city === cityData.city"
        (click)="onCitySelect(cityData.city)"
        class="filter-item"
      >
        {{ cityData.city }}
        <span class="count-badge" *ngIf="cityData.count > 0">({{ cityData.count }})</span>
      </button>
    </div>
  </div>
</aside>
</div>